<!DOCTYPE html>
<html>
  <head>
    <title>Palestine Online</title>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <link rel="stylesheet" href="https://unpkg.com/98.css" />
    <!-- <link rel="stylesheet" href="../public/window-style.css" /> -->
    <link rel="stylesheet" href="../public/walkthru-style.css" />
  </head>

  <body onload="fetchPages()">
    <script>
      async function fetchPages() {
        const response = await fetch(
          './pages.json'
        );
        const movies = await response.json();
        console.log('JSONNN', movies);
      }

      function createLink(url) {
        // Sanitize the URL to prevent potential security issues
        const sanitizedUrl = encodeURI(url);

        // Create an HTML string for the link
        const linkHTML = `<a href="${sanitizedUrl}" target="_blank">Link</a>`;

        return linkHTML;
      }

      // Function to fetch and process JSON data
      async function processJsonData() {
        console.log('DATA', pagesData);
        try {
          // Fetch the JSON file
          const response = await fetch('pages.json');
          const jsonData = await response.json();

          console.log('json data', jsonData);

          // // Extract the URL from the JSON and create the link
          // const linkUrl = jsonData.link.url;
          // const linkHTML = createLink(linkUrl);

          // // Output the generated HTML to the document body
          // document.body.innerHTML = linkHTML;
        } catch (error) {
          console.error('Error processing JSON:', error);
        }
      }

      // Call the function to fetch and process JSON data
      processJsonData();

      function toggleInfo() {
        console.log('test');
        var x = document.getElementById('info-panel');
        console.log('X', x);
        if (x.style.visibility === 'hidden') {
          console.log('vis');
          x.style.display = 'visible';
        } else {
          console.log('ehh');
          x.style.display = 'hidden';
        }
      }
    </script>
    <div class="tooltip">
      <span class="infopanel" id="info-panel">lorem ipsum</span>
    </div>
    <div class="walkthru-grid">
      <div class="walkthru-title">
        <span>
          <h1></h1>
        </span>
      </div>

      <div class="walkthru-left-arrow">
        <a href="1.html">
          <input type="image" src="../public/icons/l.png" />
        </a>
      </div>
      <div class="walkthru-right-arrow">
        <a href="6.html">
          <input type="image" src="../public/icons/r.gif" />
        </a>
      </div>
      <div class="walkthru-info">walkthru-info</div>
      <div class="window walkthru-window">
        <div class="title-bar">
          <div class="title-bar-text">HTML Tutorial in Arabic</div>
          <div class="title-bar-controls">
            <button aria-label="Minimize"></button>
            <button aria-label="Maximize"></button>
            <button aria-label="Close"></button>
          </div>
        </div>
        <div class="window-body">
          <section
            class="field-row"
            style="justify-content: flex-start"
          >
            <input
              type="image"
              onclick="window.history.back()"
              src="../public/back.svg"
              height="23px"
              style="margin-bottom: 4px"
            />
            <input
              type="image"
              onclick="window.history.forward()"
              src="../public/front.svg"
              height="23px"
              style="margin-bottom: 4px"
            />
            <div class="divider">|</div>
            <a class="tooltip" href="../index.html">
              <input
                type="image"
                src="../public/home.svg"
                height="25px"
              /><span class="tooltiptext">Go to Main Page</span>
            </a>
            <a class="tooltip">
              <input
                type="image"
                src="../public/icons/info.svg"
                height="25px"
                onClick="toggleInfo()"
              />
              <span class="tooltiptext"
                >View page information and notes</span
              >
            </a>
            <a class="tooltip" href="../index.html">
              <input
                type="image"
                src="../public/icons/help_book_small-5.svg"
                height="25px"
              />
              <span class="tooltiptext">Go to random page</span>
            </a>
            <a class="tooltip" href="../index.html">
              <input
                type="image"
                src="../public/icons/search_web-1.svg"
                height="25x"
              />
              <span class="tooltiptext"
                >Open page on Wayback Machine</span
              >
            </a>
          </section>
        </div>
        <iframe
          id="frame"
          title=""
          width="99.5%"
          src="../sites/personal-pages/zuhairhm/zuhairhm.html"
        >
        </iframe>
      </div>
    </div>
  </body>
</html>
